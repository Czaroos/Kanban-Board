(this["webpackJsonpkanban-board"]=this["webpackJsonpkanban-board"]||[]).push([[0],{112:function(e,n,t){},194:function(e,n,t){e.exports=t(369)},368:function(e,n,t){},369:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(13),i=t.n(o),c=t(15),l=t(22),u=t(160),s=t(34),d=t(21);function p(){return function(e){fetch("/columns").then((function(e){return e.json()})).then((function(n){return e({type:x.FETCH_COLUMNS,payload:n})}))}}function f(){return function(e,n){fetch("/columns",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n().columns)}).then((function(e){return e.json()})).then((function(n){return e({type:x.FETCH_COLUMNS,payload:n})}))}}function m(e){return function(n){fetch("/columns/"+e,{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return n({type:x.DELETE_COLUMN,payload:e})}))}}function b(e){return function(n){fetch("/tasks/add",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return n({type:x.ADD_TASK,payload:e})}))}}function h(e){return function(n){fetch("/tasks/"+e.id,{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return n({type:x.EDIT_TASK,payload:e})}))}}function g(){return function(e){fetch("/users").then((function(e){return e.json()})).then((function(n){return e({type:x.FETCH_USERS,payload:n})}))}}function E(e){return function(n){fetch("/users/"+e,{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return n({type:x.DELETE_USER,payload:e})}))}}var x={ADD_TASK:"ADD_TASK",ADD_COLUMN:"ADD_COLUMN",DRAG_HAPPENED:"DRAG_HAPPENED",EDIT_TASK:"EDIT_TASK",DELETE_TASK:"DELETE_TASK",EDIT_COLUMN:"EDIT_COLUMN",DELETE_COLUMN:"DELETE_COLUMN",FETCH_COLUMNS:"FETCH_COLUMNS",FETCH_USERS:"FETCH_USERS",ADD_USER:"ADD_USER",DELETE_USER:"DELETE_USER",DELETE_USER_BY_NAME:"DELETE_USER_BY_NAME"},y=[],v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case x.FETCH_COLUMNS:var t=function(){var e=n.payload.map((function(e){var n=e.tasks.map((function(e){var n=e.users.map((function(e){return{_id:e._id,name:e.name,color:e.color}}));return{id:e._id,content:e.content,priority:e.priority,columnID:e.columnId,users:n,color:e.color,progress:e.progress,isLocked:e.isLocked}}));return{id:e._id,title:e.title,limit:e.limit,tasks:n,index:e.index,indexX:e.indexX,indexY:e.indexY,info:e.info,color:e.color}})),t=new Set;e.forEach((function(e){return t.add(e.indexY)}));for(var r=Array.from(t).sort().reverse(),a=[],o=function(n){e.forEach((function(e){e.indexY===n&&a.push(e)}))},i=0;i<=r[0];i++)o(i);return{v:a}}();if("object"===typeof t)return t.v;case x.ADD_COLUMN:var r={id:n.payload._id,title:n.payload.title,limit:n.payload.limit,tasks:[],index:n.payload.index,indexX:n.payload.indexX,indexY:n.payload.indexY,info:n.payload.info,color:n.payload.color};return[].concat(Object(d.a)(e),[r]);case x.ADD_TASK:var a=n.payload.tasks[n.payload.tasks.length-1],o={id:a._id,content:a.content,columnID:a.columnId,users:[],priority:a.priority,color:a.color},i=e.map((function(e){return e.id===o.columnID?(e.limit--,Object(s.a)(Object(s.a)({},e),{},{tasks:[].concat(Object(d.a)(e.tasks),[o])})):e}));return i;case x.DRAG_HAPPENED:var c=n.payload,l=c.droppableIdStart,u=c.droppableIdEnd,p=c.droppableIndexStart,f=c.droppableIndexEnd,m=c.type,b=c.draggableId,h=c.users,g=Object(d.a)(e);if("swimlane"===m){var E=function(){g.map((function(e){return e.indexY===p?(e.indexY=f,e):e.indexY===f?(e.indexY=p,e):e}));for(var e=g.filter((function(e){return 0===e.indexX})).length-1,n=[],t=function(e){g.forEach((function(t){t.indexY===e&&n.push(t)}))},r=0;r<=e;r++)t(r);return{v:n}}();if("object"===typeof E)return E.v}if("user"===m&&l===u)return g;if("user"===m){var v=h.find((function(e){return e._id===b})),O=g.map((function(e){var n=e.tasks.map((function(e){return e.id===u?e.users.find((function(e){return e.name===v.name}))?e:Object(s.a)(Object(s.a)({},e),{},{users:[].concat(Object(d.a)(e.users),[v])}):e}));return Object(s.a)(Object(s.a)({},e),{},{tasks:n})}));return O}if(l===u){var k,j=e.find((function(e){return l===e.id})),S=j.tasks.splice(p,1);(k=j.tasks).splice.apply(k,[f,0].concat(Object(d.a)(S)))}if(l!==u){var C,w=e.find((function(e){return l===e.id}));w.limit++;var D=w.tasks.splice(p,1),_=D.map((function(e){return e.columnID=u,e})),A=e.find((function(e){return u===e.id}));A.limit--,(C=A.tasks).splice.apply(C,[f,0].concat(Object(d.a)(_)))}return g;case x.EDIT_TASK:var I=n.payload,T=I._id,L=I.content,U=I.userId,Y=I.priority,z=I.columnId,P=I.progress,N=I.color,R=I.isLocked;return e.map((function(e){if(e.id===z){var n=e.tasks.map((function(e){return e.id===T?(e.content=L,e.priority=Y,e.userID=U,e.progress=P,e.color=N,e.isLocked=R,e):e}));return Object(s.a)(Object(s.a)({},e),{},{tasks:n})}return e}));case x.DELETE_TASK:var F=n.payload,M=F._id,X=F.columnID;return e.map((function(e){if(e.id===X){e.limit++;var n=e.tasks.filter((function(e){return e.id!==M}));return Object(s.a)(Object(s.a)({},e),{},{tasks:n})}return e}));case x.EDIT_COLUMN:var H=n.payload,B=H._id,V=H.title,K=H.limit,J=H.info;return e.map((function(e){return e.id===B?(e.title=V,e.limit=K,e.info=J,e):e}));case x.DELETE_COLUMN:var G=Object(d.a)(e),$=n.payload,q=G.filter((function(e){return e.id!==$}));return q.map((function(e,n){return e.index=n,e}));case x.DELETE_USER:return e.map((function(e){return e.tasks.map((function(e){return e.users=e.users.filter((function(e){return e._id!==n.payload})),e})),e}));default:return e}},O=[],k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case x.FETCH_USERS:var t=n.payload.map((function(e){return{_id:e._id,name:e.name,color:e.color}}));return t;case x.ADD_USER:return e.push(n.payload),e;case x.DRAG_HAPPENED:var r=n.payload,a=r.type,o=r.draggableId,i=r.droppableIdEnd,c=r.droppableIdStart,l=r.columns,u=Object(d.a)(e);if("user"===a&&c===i)return e;if("user"===a){var s=e.find((function(e){return e._id===o}));l.forEach((function(n){n.tasks.forEach((function(n){n.id===i&&(n.users.find((function(e){return e.name===s.name}))||(u=e.filter((function(e){return e._id!==o}))))}))}))}return u;case x.DELETE_USER_BY_NAME:var p=e.filter((function(e){return e.name!==n.payload}));return p;default:return e}},j=Object(l.c)({columns:v,users:k}),S=[u.a],C=Object(l.e)(j,Object(l.d)(l.a.apply(void 0,S))),w=t(20),D=t(27),_=t(24),A=t(23),I=t(4),T=t(114),L=t.n(T),U=t(161),Y=t(398),z=t(5),P=t(395);function N(){var e=Object(I.a)(["\n&& {\n    color: white;\n    background: #333;\n}\n"]);return N=function(){return e},e}var R=Object(z.a)(P.a)(N()),F=function(e){var n=e.children,t=e.onClick;return a.a.createElement(R,{"data-testid":"button",variant:"contained",onMouseDown:t},n)};function M(){var e=Object(I.a)(["\n  margin-left: 5px;\n  margin-right: 8px;\n  padding-bottom: 2px;\n"]);return M=function(){return e},e}function X(){var e=Object(I.a)(["\ndisplay: flex;\nalign-items: center;\ncursor: pointer;\nborder-radius: 3px;\nheight: 36px;\nwidth: 277px;\npadding-left: 10px;\nopacity: 0.8;\ncolor: white;\nbackground-color: inherit;\nmargin-left: 6px;\n\n&:hover {\n  background-color: rgba(0,0,0,0.2);\n  border: 1px solid rgba(1, 11, 15);\n}\n"]);return X=function(){return e},e}var H=z.a.div(X()),B=Object(z.a)(Y.a)(M()),V=function(e){var n=e.children,t=e.onClick;return a.a.createElement(H,{onClick:t},a.a.createElement(B,null,"add"),a.a.createElement("p",{style:{flexShrink:0}},n))},K=t(400),J=t(89),G=t.n(J),$=t(406),q=t(408),Q=t(399),W=t(407),Z=t(41),ee=t.n(Z),ne=t(86),te=t(374),re=t(402),ae=t(371);function oe(){var e=Object(I.a)(["\n  && {\n    cursor: pointer;\n    font-size: 2rem;\n    align-self: stretch;\n    margin-left: 20px;\n    margin-top: 3px;\n    opacity: 0.8;\n    &:hover {\n      opacity: 0.5;\n    }\n  }\n"]);return oe=function(){return e},e}function ie(){var e=Object(I.a)(["\n  border-radius: 3px;\n  color: #eee;\n  resize: none;\n  overflow: hidden;\n  outline: none;\n  background-color: rgba(255, 255, 255, 0.15);\n  border: 1px solid rgba(1, 11, 15);\n  margin: 0px 15px 10px 0px;\n  padding: 6px;\n\n  ::placeholder {\n    color: #eee;\n    font-size: 0.7rem;\n  }\n"]);return ie=function(){return e},e}function ce(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n"]);return ce=function(){return e},e}function le(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: baseline;\n"]);return le=function(){return e},e}function ue(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return ue=function(){return e},e}function se(){var e=Object(I.a)(["\n  && {\n    padding: 0px;\n    margin: 0px;\n  }\n"]);return se=function(){return e},e}var de=t(157),pe=Object(z.a)(Q.a)(se()),fe=z.a.div(ue()),me=z.a.div(le()),be=z.a.div(ce()),he=Object(z.a)(K.a)(ie()),ge=Object(z.a)(G.a)(oe()),Ee=function(e){Object(_.a)(t,e);var n=Object(A.a)(t);function t(){var e;Object(w.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))).state={formOpen:!1,content:"",content2:"",content3:"",radioValue:"normal",modalOpened:!1,color:{r:"99",g:"118",b:"127",a:"1"}},e.handleClose=function(){e.setState({modalOpened:!1})},e.handleChange=function(n){e.setState({color:n.rgb})},e.openForm=function(){e.setState({formOpen:!0})},e.closeForm=function(){e.setState({formOpen:!1})},e.handleInputChange=function(n){e.setState({content:n.target.value})},e.handleAddColumn=function(){var n=e.state,t=n.content,r=n.content2,a=n.content3,o=e.props,i=o.indexX,c=o.swimlanesNames,l=o.noColumns,u=o.columns,s=de({luminosity:"light"}),d=/[0-9]/.test(a),p=!/^\s*$/.test(a);if(t&&(e.setState({content:"",content2:"",content3:"",formOpen:!1}),0!==t.trim().length)){var f=u.find((function(e){return e.indexX===i-1&&0===e.indexY})),m={title:t,indexY:0,indexX:i,info:/^\s*$/.test(r)?"Task w tej kolumnie uznaje si\u0119 za uko\u0144czony gdy:":r,limit:d&&p?a:-99999,color:f?f.color:s};e.props.addColumn(m),l||c.forEach((function(n,t){var o=u.find((function(e){return e.indexX===i-1&&e.indexY===t+1})),c={title:n,indexY:t+1,indexX:i,info:/^\s*$/.test(r)?r:"Task w tej kolumnie uznaje si\u0119 za uko\u0144czony gdy:",limit:d&&p?a:-99999,color:o?o.color:s};e.props.addColumn(c),e.props.fetchColumns()}))}},e.handleAddSwimlane=function(){var n=e.state.content,t=e.props,r=t.indexX,a=t.indexY,o=t.columns,i=de({luminosity:"light"});if(n&&(e.setState({content:"",formOpen:!1}),0!==n.trim().length))for(var c=function(t){var r=o.find((function(e){return e.indexX===t&&e.indexY===a-1})),c={title:n,indexY:a,indexX:t,limit:r.limit,color:i};e.props.addColumn(c),e.props.fetchColumns()},l=0;l<r;l++)c(l)},e.handleAddTask=function(){var n=e.props.columnID,t=e.state,r=t.content,a=t.radioValue,o=t.color;if(r&&(e.setState({content:"",formOpen:!1}),0!==r.trim().length)){var i={content:r,columnID:n,priority:a,color:o};e.props.addTask(i)}},e.handleAddUser=Object(U.a)(L.a.mark((function n(){var t,r,a,o,i,c,l,u;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.state,r=t.content,a=t.content2,o=de({luminosity:"dark"}),i=/[0-9]/.test(a),!r||!a){n.next=16;break}if(e.setState({content:"",content2:"",formOpen:!1}),c=i&&a<99?a:99,0===r.trim().length&&0===a.trim().length){n.next=16;break}l={name:r,color:o},u=1;case 9:if(!(u<=c)){n.next=15;break}return n.next=12,e.props.addUser(l);case 12:u++,n.next=9;break;case 15:e.props.fetchUsers();case 16:case"end":return n.stop()}}),n)}))),e.renderOpenForm=function(){var n="";switch(e.props.type){case"isColumn":n="Add a column";break;case"isSwimlane":n="Add a swimlane";break;default:n="Add a task"}return a.a.createElement(V,{onClick:e.openForm},a.a.createElement(Y.a,null,"add"),a.a.createElement("p",{style:{flexShrink:0}},n))},e.renderSwitch=function(n){switch(n){case"isColumn":return a.a.createElement(fe,null,a.a.createElement(he,{style:{width:"300px"},rowsMin:1,autoFocus:!0,placeholder:"Set title...",value:e.content,onChange:function(n){return e.setState({content:n.target.value})}}),a.a.createElement(he,{style:{width:"300px"},rowsMin:1,placeholder:"Set info...",value:e.content2,onChange:function(n){return e.setState({content2:n.target.value})}}),a.a.createElement(me,null,a.a.createElement(he,{style:{width:"90px"},rowsMin:1,placeholder:"Set limit...",value:e.content3,onChange:function(n){return e.setState({content3:n.target.value})}}),a.a.createElement(F,{onClick:e.handleAddColumn},"Add a column"),a.a.createElement(ge,{onClick:e.closeForm})));case"isUser":return a.a.createElement(me,null,a.a.createElement(he,{style:{width:"200px",marginLeft:"10px"},rowsMin:1,autoFocus:!0,placeholder:"Set name...",value:e.content,onChange:function(n){return e.setState({content:n.target.value})}}),a.a.createElement(he,{style:{width:"90px"},rowsMin:1,placeholder:"Set limit...",value:e.content2,onChange:function(n){return e.setState({content2:n.target.value})}}),a.a.createElement(F,{onClick:e.handleAddUser},"Add a user"),a.a.createElement(ge,{onClick:e.closeForm}));case"isSwimlane":return a.a.createElement(fe,null,a.a.createElement(me,null,a.a.createElement(he,{style:{width:"300px"},rowsMin:1,autoFocus:!0,placeholder:"Set title...",value:e.content,onChange:function(n){return e.setState({content:n.target.value})}}),a.a.createElement(F,{onClick:e.handleAddSwimlane},"Add a swimlane"),a.a.createElement(ge,{onClick:e.closeForm})));default:return a.a.createElement(fe,null,a.a.createElement(be,null,a.a.createElement("div",null,a.a.createElement("div",{style:{width:"36px",height:"14px",background:"rgba(".concat(e.state.color.r,", ").concat(e.state.color.g,", ").concat(e.state.color.b,", ").concat(e.state.color.a,")"),border:"1px solid white",borderRadius:"2px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},onClick:function(){e.setState({modalOpened:!0})}}),a.a.createElement(te.a,{style:{display:"flex",justifyContent:"center",alignItems:"center"},open:e.state.modalOpened,onClose:e.handleClose,closeAfterTransition:!0,BackdropComponent:re.a,BackdropProps:{timeout:500}},a.a.createElement(ae.a,{in:e.state.modalOpened},a.a.createElement("div",null,a.a.createElement(ne.SketchPicker,{color:e.state.color,onChange:e.handleChange}))))),a.a.createElement(ge,{onClick:e.closeForm,style:{margin:"0px 0px 5px 220px"}})),a.a.createElement(he,{style:{width:"285px"},rowsMin:1,autoFocus:!0,placeholder:"Set content...",value:e.content,onChange:function(n){return e.setState({content:n.target.value})}}),a.a.createElement(be,null,e.RadioButtons(),a.a.createElement(F,{onClick:e.handleAddTask},"Add a task")))}},e}return Object(D.a)(t,[{key:"RadioButtons",value:function(){var e=this;return a.a.createElement(W.a,{component:"fieldset"},a.a.createElement(q.a,{row:!0,"aria-label":"priority",name:"priority",onChange:function(n){return e.setState({radioValue:n.target.value})},defaultValue:"normal"},a.a.createElement(pe,{value:"normal",control:a.a.createElement($.a,{style:{color:"white"},size:"small"}),label:a.a.createElement(ee.a,{style:{fontSize:"1.4rem"}}),labelPlacement:"top"}),a.a.createElement(pe,{value:"high",control:a.a.createElement($.a,{style:{color:"orange"},size:"small"}),label:a.a.createElement(ee.a,{style:{color:"orange",fontSize:"1.7rem"}}),labelPlacement:"top"}),a.a.createElement(pe,{value:"very high",control:a.a.createElement($.a,{style:{color:"red"},size:"small"}),label:a.a.createElement(ee.a,{style:{color:"red",fontSize:"2rem"}}),labelPlacement:"top"})))}},{key:"render",value:function(){var e=this.props.type;return this.state.formOpen?a.a.createElement("div",null,this.renderSwitch(e)):a.a.createElement(V,{onClick:this.openForm},"isColumn"===e?"Add a column":"isSwimlane"===e?"Add a swimlane":"isUser"===e?"Add a user":"Add a task")}}]),t}(a.a.PureComponent),xe={addTask:b,addColumn:function(e){return function(n){fetch("/columns/add/",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return n({type:x.ADD_COLUMN,payload:e})}))}},fetchColumns:p,fetchUsers:g,addUser:function(e){return function(n){fetch("/users/add",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return n({type:x.ADD_USER,payload:e})}))}}},ye=Object(c.b)((function(e){return{columns:e.columns}}),xe)(Ee),ve=t(19),Oe=t(42),ke=t(47),je=(t(112),t(117)),Se=t(403),Ce=t(370),we=t(409),De=t(168),_e=t.n(De),Ae=t(410);function Ie(){var e=Object(I.a)(["\n  && {\n    position: absolute;\n    display: none;\n    top: -5px;\n    right: -4px;\n    color: white;\n    height: 12px;\n    width: 12px;\n    opacity: 0.8;\n    ",":hover & {\n        display: block;\n        cursor: pointer;\n    }\n  }\n"]);return Ie=function(){return e},e}function Te(){var e=Object(I.a)(["\n  && {\n    height: 30px;\n    width: 30px;\n    margin-right: 10cdpx;\n    border: 1px solid black;\n    font-weight: 500;\n  }\n"]);return Te=function(){return e},e}function Le(){var e=Object(I.a)(["\n    position: relative;\n    height: 35px;\n    width: 35px;\n"]);return Le=function(){return e},e}var Ue=z.a.div(Le()),Ye=Object(z.a)(we.a)(Te()),ze=Object(z.a)(_e.a)(Ie(),Ue),Pe=Object(c.b)((function(e){return{columns:e.columns}}))((function(e){var n=e._id,t=e.name,r=e.index,o=e.color,i=e.isDragDisabled,c=e.dispatch,l=e.columns,u=e.droppableId,s=function(){c(function(e){return function(n){fetch("/users/deleteByName/"+e,{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return n({type:x.DELETE_USER_BY_NAME,payload:e})}))}}(t))},d=function(){Object(ke.confirmAlert)({title:"Alert!",message:"Are you sure you want to remove "+t+" from this task?",buttons:[{label:"Yes",onClick:function(){return c(E(n)),l.map((function(e){return e.tasks.map((function(e){return e.users=e.users.filter((function(e){return e._id!==n})),e})),e})),void c(f())}},{label:"No",onClick:function(){return null}}],closeOnEscape:!0,closeOnClickOutside:!0})},p=function(){Object(ke.confirmAlert)({title:"Alert!",message:"Are you sure you want to delete "+t+" user?",buttons:[{label:"Yes",onClick:function(){return s()}},{label:"No",onClick:function(){return null}}],closeOnEscape:!0,closeOnClickOutside:!0})};return a.a.createElement(ve.b,{draggableId:n,droppableId:u,index:r,type:"user",isDragDisabled:i},(function(e){return a.a.createElement("div",Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef}),a.a.createElement(Ue,null,a.a.createElement(ze,{onClick:"users"===u?p:d}),a.a.createElement(Ae.a,{title:t,arrow:!0},a.a.createElement(Ye,{style:{backgroundColor:o}},t[0].toUpperCase()))))}))})),Ne=t(171),Re=t.n(Ne),Fe=t(172),Me=t.n(Fe),Xe=t(170),He=t.n(Xe),Be=t(411),Ve=t(8),Ke=Object(Ve.a)({root:{width:293,height:8,color:"#304149",marginBottom:8,padding:2,opacity:.9,"&:hover":{opacity:1}},thumb:{height:8,width:8,backgroundColor:"#fff",marginTop:0,marginLeft:-3,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% -10px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4},thumbColorSecondary:{display:"none"}})(Be.a),Je=function(e){var n=e.defaultValue,t=e.onChange,r=e.value,o=e.disabled;return o?a.a.createElement(Ke,{color:"secondary",style:{opacity:.3},disabled:o,onChange:t,value:r,valueLabelDisplay:"auto",valueLabelFormat:function(e){return e+"%"},step:10,defaultValue:n}):a.a.createElement(Ke,{onChange:t,value:r,valueLabelDisplay:"auto",valueLabelFormat:function(e){return e+"%"},step:10,defaultValue:n})};function Ge(){var e=Object(I.a)(["\n  && {\n    cursor: pointer;\n    font-size: 2rem;\n    align-self: stretch;\n    margin-left: 20px;\n    margin-top: 3px;\n    opacity: 0.8;\n    &:hover {\n      opacity: 0.5;\n    }\n  }\n"]);return Ge=function(){return e},e}function $e(){var e=Object(I.a)(["\n  border-radius: 3px;\n  color: #eee;\n  resize: none;\n  overflow: hidden;\n  outline: none;\n  background-color: rgba(255, 255, 255, 0.15);\n  border: 1px solid rgba(1, 11, 15);\n  margin: 0px 15px 10px 0px;\n  padding: 6px;\n\n  ::placeholder {\n    color: #eee;\n    font-size: 0.7rem;\n  }\n"]);return $e=function(){return e},e}function qe(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n"]);return qe=function(){return e},e}function Qe(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Qe=function(){return e},e}function We(){var e=Object(I.a)(["\n  && {\n    padding: 0px;\n    margin: 0px;\n  }\n"]);return We=function(){return e},e}var Ze=Object(z.a)(Q.a)(We()),en=z.a.div(Qe()),nn=z.a.div(qe()),tn=Object(z.a)(K.a)($e()),rn=Object(z.a)(G.a)(Ge()),an=function(e){Object(_.a)(t,e);var n=Object(A.a)(t);function t(){var e;Object(w.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).state={formOpen:!1,content:e.props.taskContent||"",priorityRadioValue:e.props.taskPriority||"normal",modalOpened:!1,color:e.props.taskColor||{r:"99",g:"118",b:"127",a:"1"}},e.handleCloseModal=function(){e.setState({modalOpened:!1})},e.handleChangeColor=function(n){e.setState({color:n.rgb})},e.handleOpenForm=function(){e.setState({formOpen:!0})},e.handleCloseForm=function(){e.props.isEditing&&e.props.closeForm(),e.setState({formOpen:!1})},e.handleContentChange=function(n){e.setState({content:n.target.value})},e.handleAddTask=function(){var n=e.props.columnID,t=e.state,r=t.content,a=t.priorityRadioValue,o=t.color;if(r&&(e.setState({content:"",formOpen:!1}),0!==r.trim().length)){var i={columnID:n,content:r,priority:a,color:o};e.props.addTask(i)}},e.handleEditTask=function(){var n=e.props,t=n.taskID,r=n.columnID,a=n.taskUsers,o=n.isLocked,i=e.state,c=i.content,l=i.priorityRadioValue,u=i.color;if(console.log(c,l,u),0!==c.trim().length){var s={id:t,content:c,priority:l,color:u,columnID:r,users:a,isLocked:o};e.props.editTask(s)}e.props.closeForm()},e}return Object(D.a)(t,[{key:"RadioButtons",value:function(){var e=this;return a.a.createElement(W.a,{component:"fieldset"},a.a.createElement(q.a,{row:!0,"aria-label":"priority",name:"priority",onChange:function(n){return e.setState({priorityRadioValue:n.target.value})},defaultValue:this.state.priorityRadioValue},a.a.createElement(Ze,{value:"normal",control:a.a.createElement($.a,{style:{color:"white"},size:"small"}),label:a.a.createElement(ee.a,{style:{fontSize:"1.4rem"}}),labelPlacement:"top"}),a.a.createElement(Ze,{value:"high",control:a.a.createElement($.a,{style:{color:"orange"},size:"small"}),label:a.a.createElement(ee.a,{style:{color:"orange",fontSize:"1.7rem"}}),labelPlacement:"top"}),a.a.createElement(Ze,{value:"very high",control:a.a.createElement($.a,{style:{color:"red"},size:"small"}),label:a.a.createElement(ee.a,{style:{color:"red",fontSize:"2rem"}}),labelPlacement:"top"})))}},{key:"render",value:function(){var e=this,n=this.props.isEditing;return this.state.formOpen||n?a.a.createElement(en,null,a.a.createElement(nn,null,a.a.createElement("div",null,a.a.createElement("div",{style:{width:"36px",height:"14px",background:"rgba(".concat(this.state.color.r,", ").concat(this.state.color.g,", ").concat(this.state.color.b,", ").concat(this.state.color.a,")"),border:"1px solid white",borderRadius:"2px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},onClick:function(){e.setState({modalOpened:!0})}}),a.a.createElement(te.a,{style:{display:"flex",justifyContent:"center",alignItems:"center"},open:this.state.modalOpened,onClose:this.handleCloseModal,closeAfterTransition:!0,BackdropComponent:re.a,BackdropProps:{timeout:500}},a.a.createElement(ae.a,{in:this.state.modalOpened},a.a.createElement("div",null,a.a.createElement(ne.SketchPicker,{color:this.state.color,onChange:this.handleChangeColor}))))),a.a.createElement(rn,{onClick:this.handleCloseForm,style:{margin:"0px 0px 5px 220px"}})),a.a.createElement(tn,{style:{width:"285px"},rowsMin:1,autoFocus:!0,onFocus:function(e){return e.target.select()},placeholder:"Set a content...",value:this.state.content,onChange:function(n){return e.handleContentChange(n)}}),a.a.createElement(nn,null,this.RadioButtons(),a.a.createElement(F,{onClick:n?this.handleEditTask:this.handleAddTask},"Save a task"))):a.a.createElement(V,{onClick:this.handleOpenForm},"Add a task")}}]),t}(a.a.PureComponent),on={addTask:b,editTask:h},cn=Object(c.b)(null,on)(an);function ln(){var e=Object(I.a)(["\n  position: absolute;\n  right: -2px;\n  top: 3px;\n  opacity: 0.9;\n  ",":hover & {\n    opacity: 0;\n  }\n"]);return ln=function(){return e},e}function un(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  width: 90%;\n  min-height: 32px;\n  margin-top: 2px;\n"]);return un=function(){return e},e}function sn(){var e=Object(I.a)(["\n  position: absolute;\n  display: none;\n  right: 2px;\n  bottom: 26px;\n  opacity: 0.5;\n  ",":hover & {\n    display: block;\n    cursor: pointer;\n  }\n  &:hover {\n    opacity: 0.8;\n  }\n"]);return sn=function(){return e},e}function dn(){var e=Object(I.a)(["\n  && {\n    background-color: inherit;\n    border: 1px solid #ccc;\n    -webkit-box-shadow: 1px 1px 3px 1px rgba(255, 255, 255, 0.1);\n    -moz-box-shadow: 1px 1px 3px 1px rgba(255, 255, 255, 0.1);\n    box-shadow: 1px 1px 3px 1px rgba(255, 255, 255, 0.1);\n    color: white;\n    padding: 8px 16px 2px 8px;\n\n    &:active {\n      border: 1px solid rgba(1, 11, 15);\n      background-color: rgba(0, 0, 0, 0.3);\n    }\n\n    &:hover {\n      border: 1px solid rgba(1, 11, 15);\n      background-color: rgba(0, 0, 0, 0.2);\n    }\n  }\n"]);return dn=function(){return e},e}function pn(){var e=Object(I.a)(["\n  position: absolute;\n  display: none;\n  right: 1px;\n  top: 2px;\n  opacity: 0.5;\n  ",":hover & {\n    display: block;\n    cursor: pointer;\n  }\n  &:hover {\n    opacity: 0.8;\n  }\n"]);return pn=function(){return e},e}function fn(){var e=Object(I.a)(["\n  && {\n    position: absolute;\n    display: none;\n    right: 2px;\n    bottom: 50px;\n    opacity: 0.5;\n    ",":hover & {\n      display: block;\n      cursor: pointer;\n    }\n    &:hover {\n      opacity: 0.8;\n    }\n  }\n"]);return fn=function(){return e},e}function mn(){var e=Object(I.a)(["\n  && {\n    font-size: 5rem;\n    opacity: 0.8;\n    position: absolute;\n    right: 115px;\n    top: -4px;\n  }\n"]);return mn=function(){return e},e}function bn(){var e=Object(I.a)(["\n  && {\n    position: absolute;\n    display: none;\n    right: 2px;\n    bottom: 50px;\n    opacity: 0.5;\n    ",":hover & {\n      display: block;\n      cursor: pointer;\n    }\n    &:hover {\n      opacity: 0.8;\n    }\n  }\n"]);return bn=function(){return e},e}function hn(){var e=Object(I.a)(["\n  position: relative;\n  max-width: 100%;\n  word-wrap: break-word;\n"]);return hn=function(){return e},e}var gn=z.a.div(hn()),En=Object(z.a)(He.a)(bn(),gn),xn=Object(z.a)(Re.a)(mn()),yn=Object(z.a)(Me.a)(fn(),gn),vn=Object(z.a)(Y.a)(pn(),gn),On=Object(z.a)(Se.a)(dn()),kn=Object(z.a)(Y.a)(sn(),gn),jn=z.a.div(un()),Sn=Object(z.a)(ee.a)(ln(),gn),Cn=Object(c.b)()((function(e){var n=e.content,t=e.id,o=e.columnID,i=e.priority,c=e.index,l=e.dispatch,u=e.users,s=e.progress,d=e.color,p=e.isLocked,f=Object(r.useState)(!1),m=Object(Oe.a)(f,2),b=m[0],g=m[1],E=Object(r.useState)(p),y=Object(Oe.a)(E,2),v=y[0],O=y[1],k=Object(r.useState)(s),j=Object(Oe.a)(k,2),S=j[0],C=j[1],w=Object(je.b)({opacity:1,from:{opacity:0},config:{duration:400}}),D=function(){g(!1)},_=function(){var e;l((e={id:t,columnID:o},function(n){fetch("/tasks/delete/"+e.id,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return n({type:x.DELETE_TASK,payload:e})}))}))},A=function(){Object(ke.confirmAlert)({title:"Alert!",message:"Are you sure you want to delete this task ?",buttons:[{label:"Yes",onClick:function(){return _()}},{label:"No",onClick:function(){return null}}],closeOnEscape:!0,closeOnClickOutside:!0})};return b?a.a.createElement(cn,{taskID:t,isEditing:!0,taskPriority:i,taskColor:d,taskContent:n,taskUsers:u,isLocked:p,columnID:o,closeForm:D}):a.a.createElement(je.a.div,{style:w},v?a.a.createElement(ve.b,{draggableId:t,index:c,isDragDisabled:!0},(function(e){return a.a.createElement(gn,Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef,onDoubleClick:function(){return g(!0)}}),a.a.createElement(On,{style:{opacity:.3,borderTop:"2px solid red",cursor:"auto",backgroundColor:"rgba(".concat(d.r,", ").concat(d.g,", ").concat(d.b,", ").concat(d.a,")")}},"normal"===i?a.a.createElement(Sn,{style:{fontSize:"1.4rem"}}):"high"===i?a.a.createElement(Sn,{style:{color:"orange",fontSize:"1.7rem"}}):a.a.createElement(Sn,{style:{color:"red",fontSize:"2rem"}}),a.a.createElement(xn,null),a.a.createElement(En,{fontSize:"small",onClick:function(){O(!1),l(h({id:t,content:n,columnID:o,users:u,priority:i,progress:s,color:d,isLocked:!1}))}}),a.a.createElement(vn,{fontSize:"small",onMouseDown:function(){return g(!0)}},"edit"),a.a.createElement(kn,{fontSize:"small",onMouseDown:A},"delete"),a.a.createElement(Ce.a,null,n),a.a.createElement(ve.c,{droppableId:t,direction:"horizontal",type:"user"},(function(e){return a.a.createElement(jn,Object.assign({},e.droppableProps,{ref:e.innerRef}),u.map((function(e,n){return a.a.createElement(Pe,{_id:e._id,name:e.name,userLimit:e.userLimit,index:n,key:e._id,color:e.color,isDragDisabled:!0,droppableId:t})})),e.placeholder)}))),a.a.createElement(Je,{disabled:!0,defaultValue:s,value:S,onChange:function(e,r){C(r),l(h({id:t,content:n,columnID:o,users:u,priority:i,progress:r,color:d}))}}))})):a.a.createElement(ve.b,{draggableId:t,index:c},(function(e){return a.a.createElement(gn,Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef,onDoubleClick:function(){return g(!0)}}),a.a.createElement(On,{style:{backgroundColor:"rgba(".concat(d.r,", ").concat(d.g,", ").concat(d.b,", ").concat(d.a,")")}},"normal"===i?a.a.createElement(Sn,{style:{fontSize:"1.4rem"}}):"high"===i?a.a.createElement(Sn,{style:{color:"orange",fontSize:"1.7rem"}}):a.a.createElement(Sn,{style:{color:"red",fontSize:"2rem"}}),a.a.createElement(yn,{fontSize:"small",onClick:function(){O(!0),l(h({id:t,content:n,columnID:o,users:u,priority:i,progress:s,color:d,isLocked:!0}))}}),a.a.createElement(vn,{fontSize:"small",onMouseDown:function(){return g(!0)}},"edit"),a.a.createElement(kn,{fontSize:"small",onMouseDown:A},"delete"),a.a.createElement(Ce.a,null,n),a.a.createElement(ve.c,{droppableId:t,direction:"horizontal",type:"user"},(function(e){return a.a.createElement(jn,Object.assign({},e.droppableProps,{ref:e.innerRef}),u.map((function(e,n){return a.a.createElement(Pe,{_id:e._id,name:e.name,userLimit:e.userLimit,index:n,key:e._id,color:e.color,isDragDisabled:!0,droppableId:t})})),e.placeholder)}))),a.a.createElement(Je,{defaultValue:s,value:S,onChange:function(e,r){C(r),l(h({id:t,content:n,columnID:o,users:u,priority:i,progress:r,color:d}))}}))})))})),wn=t(175),Dn=t.n(wn),_n=t(405),An=t(404),In=t(173),Tn=t.n(In);function Ln(){var e=Object(I.a)(["\n    color: red;\n    text-shadow: none;\n\n    && {\n        font-weight: 100;\n    }\n"]);return Ln=function(){return e},e}function Un(){var e=Object(I.a)(["\n  color: rgba(255,0,0,0.9);\n  margin-right: 5px;\n"]);return Un=function(){return e},e}var Yn=Object(z.a)(Tn.a)(Un()),zn=Object(z.a)(Ce.a)(Ln()),Pn=Object(An.a)((function(e){return{popover:{pointerEvents:"none"},paper:{padding:e.spacing(1)}}}));function Nn(){var e=Pn(),n=a.a.useState(null),t=Object(Oe.a)(n,2),r=t[0],o=t[1],i=function(){o(null)},c=Boolean(r);return a.a.createElement("div",null,a.a.createElement(Ce.a,{"aria-owns":c?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:function(e){o(e.currentTarget)},onMouseLeave:i},a.a.createElement(Yn,null)),a.a.createElement(_n.a,{id:"mouse-over-popover",className:e.popover,classes:{paper:e.paper},open:c,anchorEl:r,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:i,disableRestoreFocus:!0},a.a.createElement(zn,null,"Task limit exceeded!")))}var Rn=t(176),Fn=t.n(Rn),Mn=t(177),Xn=t.n(Mn),Hn=t(174),Bn=t.n(Hn);function Vn(){var e=Object(I.a)(["\n  width: 96%;\n  height: 1px;\n"]);return Vn=function(){return e},e}function Kn(){var e=Object(I.a)(["\n  margin-left: 10px;\n  min-width: 24px;\n  min-height: 28.8px;\n  margin-bottom: 5px;\n  margin-right: 10px;\n  cursor: text;\n  text-transform: uppercase;\n  &:hover {\n    opacity: 0.5;\n  }\n"]);return Kn=function(){return e},e}function Jn(){var e=Object(I.a)(["\n  cursor: text;\n  flex-grow: 2;\n  text-transform: uppercase;\n  &:hover {\n    opacity: 0.5;\n  }\n"]);return Jn=function(){return e},e}function Gn(){var e=Object(I.a)(["\n  cursor: pointer;\n  margin-left: 10px;\n  opacity: 0.5;\n  &:hover {\n    opacity: 0.8;\n  }\n"]);return Gn=function(){return e},e}function $n(){var e=Object(I.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return $n=function(){return e},e}function qn(){var e=Object(I.a)(["\n  width: 8%;\n  background-color: inherit;\n  border: none;\n  outline: none;\n  border-bottom: 2px solid #03a8f45e;\n  margin-bottom: 5px;\n  margin-left: 0px;\n  text-size: 1.4rem;\n  text-align: center;\n  padding: 5px;\n  color: white;\n"]);return qn=function(){return e},e}function Qn(){var e=Object(I.a)(["\n  width: 80%;\n  background-color: inherit;\n  border: none;\n  outline: none;\n  border-bottom: 2px solid #03a8f45e;\n  margin-bottom: 5px;\n  margin-left: 23px;\n  font-size: 1.4rem;\n  text-align: center;\n  padding: 5px;\n  color: white;\n"]);return Qn=function(){return e},e}function Wn(){var e=Object(I.a)(["\n  color: white;\n  border: 1px solid rgba(1, 11, 15, 0.3);\n  -webkit-box-shadow: 1px 1px 3px 1px rgba(1, 11, 15, 0.3);\n  -moz-box-shadow: 1px 1px 3px 1px rgba(1, 11, 15, 0.3);\n  box-shadow: 1px 1px 3px 1px rgba(1, 11, 15, 0.3);\n  border-radius: 3px;\n  background-color: rgba(0,0,0,0.1);\n  width: 300px;\n  height: 100%;\n  margin-right: 12px;\n  padding: 8px;\n\n  &:active {\n    border: 1px solid rgba(0, 0, 0);\n    background-color: rgba(0,0,0,0.3)\n    }\n\n  &:hover {\n    border: 1px solid rgba(0, 0, 0);\n    background-color: rgba(0,0,0,0.2)\n    }\n\n  .\n"]);return Wn=function(){return e},e}function Zn(){var e=Object(I.a)(["\n  margin-left: 10px;\n  opacity: 0.5;\n  &:hover {\n    opacity: 0.8;\n  }\n"]);return Zn=function(){return e},e}var et=Object(z.a)(Bn.a)(Zn()),nt=z.a.div(Wn()),tt=z.a.input(Qn()),rt=z.a.input(qn()),at=z.a.div($n()),ot=Object(z.a)(Y.a)(Gn()),it=z.a.h3(Jn()),ct=z.a.h3(Kn()),lt=z.a.div(Vn()),ut=Object(c.b)((function(e){return{columns:e.columns}}))((function(e){var n,t=e.title,o=e.tasks,i=e.limit,c=e.id,l=e.index,u=e.indexX,s=e.indexY,d=e.dispatch,f=e.columns,b=e.info,h=e.color,g=Object(r.useState)(!1),E=Object(Oe.a)(g,2),y=E[0],v=E[1],O=Object(r.useState)(!1),k=Object(Oe.a)(O,2),j=k[0],S=k[1],C=Object(r.useState)(!0),w=Object(Oe.a)(C,2),D=w[0],_=w[1],A=function(){v(!1),S(!1)},I=function(e){e.target.select()},T=function(e){e.preventDefault(),y&&(t=e.target.value),j&&(i=e.target.value)},L=function(){var e=i;(/[0-9]/.test(e)||(e=-99999),v(!1),S(!1),0!==t.trim().length)&&d(function(e){return function(n){fetch("/columns/"+e.id,{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return n({type:x.EDIT_COLUMN,payload:e})}))}}({id:c,title:t,limit:e,info:b,tasks:o,index:l,indexX:u,indexY:s}))};return a.a.createElement("div",null,a.a.createElement(lt,{style:{backgroundColor:h}}),a.a.createElement(nt,null,y||j?y?a.a.createElement("form",{onSubmit:L},a.a.createElement(tt,{type:"text",onChange:T,value:n,autoFocus:!0,onFocus:I,onBlur:A})):a.a.createElement("form",{onSubmit:L},a.a.createElement(rt,{type:"text",onChange:T,value:n,autoFocus:!0,onFocus:I,onBlur:A})):a.a.createElement(at,null,0===s||0===u?null:a.a.createElement(ct,{onClick:function(){return S(!0)}},i<=-9999?a.a.createElement(Dn.a,null):i<=0?a.a.createElement(Nn,null):i),s>0&&u>0?null:a.a.createElement(it,{onClick:function(){return v(!0)}},t),0===s&&u>0?a.a.createElement(Ae.a,{title:b,interactive:!0,arrow:!0},a.a.createElement(et,null)):null,s>0&&u>0||0===u&&0===s?null:0===s?a.a.createElement(ot,{onClick:function(){Object(ke.confirmAlert)({title:"Alert!",message:"Are you sure you want to delete this column ?",buttons:[{label:"Yes",onClick:function(){f.filter((function(e){return e.indexX===u})).forEach((function(e){d(m(e.id)),d(p())}))}},{label:"No",onClick:function(){return null}}],closeOnEscape:!0,closeOnClickOutside:!0})}},"delete"):a.a.createElement(ot,{onClick:function(){Object(ke.confirmAlert)({title:"Alert!",message:"Are you sure you want to delete this swimlane ?",buttons:[{label:"Yes",onClick:function(){f.filter((function(e){return e.indexY===s})).forEach((function(e){d(m(e.id)),d(p())}))}},{label:"No",onClick:function(){return null}}],closeOnEscape:!0,closeOnClickOutside:!0})}},"delete"),0===s||0===u?null:D?a.a.createElement(Fn.a,{style:{cursor:"pointer"},onClick:function(){return _(!1)}}):a.a.createElement(Xn.a,{style:{cursor:"pointer"},onClick:function(){return _(!0)}})),0===s||0===u?null:D?a.a.createElement(ve.c,{droppableId:c},(function(e){return a.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef}),o.map((function(e,n){return a.a.createElement(Cn,{id:e.id,index:n,key:e.id,content:e.content,columnID:e.columnID,userID:e.userID,priority:e.priority,users:e.users,progress:e.progress,color:e.color,isLocked:e.isLocked})})),e.placeholder,a.a.createElement(cn,{columnID:c}))})):null))}));function st(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  margin-bottom: 30px;\n"]);return st=function(){return e},e}var dt=z.a.div(st()),pt=Object(c.b)((function(e){return{columns:e.columns}}))((function(e){var n=e.columns,t=e.indexY,r=n.filter((function(e){return e.indexY===t})).sort((function(e,n){return e.indexX>n.indexX?1:-1}));return 0===t?a.a.createElement(dt,null,r.map((function(e,n){return a.a.createElement(ut,{id:e.id,key:e.id,title:e.title,tasks:e.tasks,index:e.index,limit:e.limit,indexX:e.indexX,indexY:e.indexY,info:e.info,color:e.color})}))):a.a.createElement(ve.b,{key:t,draggableId:String(t),index:t},(function(e){return a.a.createElement(dt,Object.assign({},e.draggableProps,{ref:e.innerRef}),r.map((function(n,t){return n.indexY>0?a.a.createElement("div",Object.assign({},e.dragHandleProps,{key:t}),a.a.createElement(ut,{id:n.id,key:n.id,title:n.title,tasks:n.tasks,index:n.index,limit:n.limit,indexX:n.indexX,indexY:n.indexY,info:n.info,color:n.color})):null})))}))})),ft=t(178);function mt(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: row;\n  padding-left: 20px;\n  margin-bottom: 20px;\n"]);return mt=function(){return e},e}var bt=z.a.div(mt()),ht=Object(c.b)()((function(e){var n=e.users,t=ft.uniqBy(n,"name");return a.a.createElement(ve.c,{droppableId:"users",direction:"horizontal",type:"user"},(function(e){return a.a.createElement(bt,Object.assign({},e.droppableProps,{ref:e.innerRef}),t.map((function(e,n){return a.a.createElement(Pe,{_id:e._id,name:e.name,index:n,key:e._id,color:e.color,droppableId:"users"})})),e.placeholder,a.a.createElement(ye,{type:"isUser"}))}))}));function gt(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return gt=function(){return e},e}function Et(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Et=function(){return e},e}var xt=t(157),yt=z.a.div(Et()),vt=z.a.div(gt()),Ot=function(e){Object(_.a)(t,e);var n=Object(A.a)(t);function t(){var e;Object(w.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).onDragEnd=function(n){var t=n.destination,r=n.source,a=n.draggableId,o=n.type;t&&(e.props.sort(r.droppableId,t.droppableId,r.index,t.index,a,o),e.props.dragStateSave(),e.props.dragStateSaveUsers())},e.getIndecesY=function(){var n=e.props.columns,t=new Set;return n.forEach((function(e){return t.add(e.indexY)})),Array.from(t)},e.getHighestIndexY=function(){var n=e.props.columns,t=new Set;return n.forEach((function(e){return t.add(e.indexY)})),Array.from(t).sort().reverse()[0]+1},e.getHighestIndexX=function(){var n=e.props.columns,t=new Set;return n.forEach((function(e){return t.add(e.indexX)})),Array.from(t).sort().reverse()[0]+1},e.getSwimlanesNames=function(){var n=e.props.columns,t=[];return n.forEach((function(e){return e.indexY>0&&0===e.indexX?t.push(e.title):null})),t.sort((function(e,n){return e.indexY>n.indexY?1:0}))},e}return Object(D.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchColumns(),this.props.fetchUsers()}},{key:"render",value:function(){var e=this,n=this.props,t=n.columns,r=n.users;return a.a.createElement(ve.a,{onDragEnd:this.onDragEnd},a.a.createElement(ht,{users:r}),a.a.createElement(vt,{key:0},a.a.createElement(pt,{indexY:0,key:0,color:xt()}),t.length>0?a.a.createElement(ye,{type:"isColumn",indexX:this.getHighestIndexX(),swimlanesNames:this.getSwimlanesNames()}):a.a.createElement(ye,{type:"isColumn",indexX:0,noColumns:!0})),a.a.createElement(ve.c,{droppableId:"swimlanes",type:"swimlane"},(function(n){return a.a.createElement(yt,Object.assign({},n.droppableProps,{ref:n.innerRef}),a.a.createElement("div",null,e.getIndecesY().map((function(e,n){return 0===n?null:a.a.createElement(pt,{indexY:e,key:e,color:xt()})})),n.placeholder,t.length>0?a.a.createElement(ye,{type:"isSwimlane",indexY:e.getHighestIndexY(),indexX:e.getHighestIndexX()}):null))})))}}]),t}(r.PureComponent),kt={fetchColumns:p,sort:function(e,n,t,r,a,o){return function(i,c){var l=c(),u=l.users,s=l.columns;i({type:x.DRAG_HAPPENED,payload:{droppableIdStart:e,droppableIdEnd:n,droppableIndexStart:t,droppableIndexEnd:r,draggableId:a,type:o,users:u,columns:s}})}},dragStateSave:f,fetchUsers:g,deleteUser:E,dragStateSaveUsers:function(){return function(e,n){fetch("/users",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n().users)}).then((function(e){return e.json()})).then((function(n){return e({type:x.FETCH_USERS,payload:n})}))}}},jt=Object(c.b)((function(e){return{columns:e.columns,users:e.users}}),kt)(Ot);t(368);i.a.render(a.a.createElement(c.a,{store:C},a.a.createElement(jt,null)),document.getElementById("root"))}},[[194,1,2]]]);
//# sourceMappingURL=main.84c20a11.chunk.js.map